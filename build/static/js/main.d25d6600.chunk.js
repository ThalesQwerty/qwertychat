(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{10:function(e,t,a){e.exports={author:"chat_author__33S8k",sent:"chat_sent__gpd60",received:"chat_received__Cv1OY",fadeInWait:"chat_fadeInWait__21vOf",fadeInDone:"chat_fadeInDone__2I7Ye",messageBox:"chat_messageBox__1-ssd",messageParentDiv:"chat_messageParentDiv__2cs-u",messageChildDiv:"chat_messageChildDiv__3Gy2y",message:"chat_message__1muCZ","last-message":"chat_last-message__1-ARw","middle-message":"chat_middle-message__2u7AB",textDiv:"chat_textDiv__2CAll",chatBubbleIcon:"chat_chatBubbleIcon__1gZ2I",textFieldParent:"chat_textFieldParent__34bBI",textField:"chat_textField__36_q4",textFieldValue:"chat_textFieldValue__3mJs_",textFieldLabel:"chat_textFieldLabel__2874z"}},29:function(e,t,a){e.exports={main:"layout_main__154lb",sidebar:"layout_sidebar__3P12S",hidden:"layout_hidden__2RLKo"}},76:function(e,t,a){e.exports=a(86)},85:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),i=a.n(l),s=a(60),c=a(127),o=a(49),u=a(126),m=a(12),h=a(13),d=a(18),f=a(16),g=a(112),v=a(115),b=a(50),E=a(132),_=a(118),p=a(116),y=a(119),x=a(29),L=a.n(x),I=function(e){return r.a.createElement(g.a,{position:"relative",style:{height:"4rem"}},r.a.createElement(v.a,null,r.a.createElement(b.a,{style:{display:"flex",alignItems:"center"}},r.a.createElement(p.a,{style:{marginRight:"0.5rem"}}),"QwertyChat!"),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",flexGrow:"1"}},r.a.createElement(E.a,{title:e.userListVisible?"Hide user list":"Show user list",placement:"top"},r.a.createElement(_.a,{onClick:e.toggleUserList},r.a.createElement(y.a,null))))))},w=a(124),j=a(130),O=a(122),D=a(121),F=a(120),k=function(e){return r.a.createElement(r.a.Fragment,null,function(e){return r.a.createElement("div",{style:{backgroundColor:e.user.color||"gray",borderRadius:"50%",width:"2rem",height:"2rem",display:"flex",justifyContent:"center",alignContent:"center",marginRight:e.marginRight||"1rem",marginLeft:e.marginLeft||"0rem"}},r.a.createElement(F.a,{style:{fontSize:"2em",color:"rgba(0, 0, 0, 0.5)"}}))}(e))},R=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{user:e.user}),r.a.createElement(D.a,{primary:e.user.name,marginRight:e.marginRight}))},T=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{button:!0},r.a.createElement(R,{user:e.user})))},N=a(123),A=function(){function e(t,a){Object(m.a)(this,e),this.id=e.list.length+1,this.name=t,this.color=a,e.list.push(this)}return Object(h.a)(e,null,[{key:"random",value:function(){do{var t=e.list[Math.floor(Math.random()*e.list.length)]}while(e.same([t,e.me()]));return t}},{key:"me",value:function(){return e.list[0]}},{key:"same",value:function(e){for(var t=1;t<e.length;t++)if(e[t].id!=e[t-1].id)return!1;return!0}}]),e}();A.list=[];for(var S=A,C=[new S("You","gray")],H=0;H<50;H++){var M=["#4caf50","#f44336","#ffcd38","#3f50b5","#35baf6","#ffa726","#bb6bc9"];C.push(new S("User "+(H+1),M[Math.floor(Math.random()*M.length)]))}var G=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{component:"nav","aria-label":"main mailbox folders",style:{marginBottom:"1rem"}},function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];t.push(r.a.createElement(T,{key:a,user:n}))}return t}(C)))},B=a(48),P=function(e){var t,a="",n=Object(B.a)(e);try{for(n.s();!(t=n.n()).done;){a+=t.value+" "}}catch(r){n.e(r)}finally{n.f()}return a},U=function(e){return r.a.createElement(r.a.Fragment,null,e.condition?e.children:r.a.createElement(r.a.Fragment,null))},V=function(e){return r.a.createElement(w.a,{item:!0,boxShadow:1,className:e.visible?L.a.sidebar:P([L.a.sidebar,L.a.hidden])},r.a.createElement(j.a,{boxShadow:1,width:1,height:1,style:{overflowX:"hidden",overflowY:"scroll"}},r.a.createElement(G,null)))},Y=a(10),W=a.n(Y),z=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:P([W.a.author,W.a[e.align]])},r.a.createElement("small",null,e.user.name)))},J=function(e){return r.a.createElement(j.a,{boxShadow:1,padding:"1rem",className:P([W.a.message,W.a[e.align],W.a[e.thread]])},e.children)},q=a(39),K=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this)).content=e,n.attributes={align:a.ALIGN_LEFT},n.createFunctions(a,["author","align"],(function(e,t){return n.attributes[e]=t,Object(q.a)(n)})),n}return a}(function(){function e(){Object(m.a)(this,e)}return Object(h.a)(e,[{key:"createFunctions",value:function(e,t,a){var n,r=Object(B.a)(t);try{var l=function(){var t=n.value;e.prototype[t]=function(e){return a(t,e)}};for(r.s();!(n=r.n()).done;)l()}catch(i){r.e(i)}finally{r.f()}}}]),e}());K.ALIGN_LEFT="received",K.ALIGN_RIGHT="sent",K.THREAD_SINGLE="single-message",K.THREAD_FIRST="first-message",K.THREAD_MIDDLE="middle-message",K.THREAD_LAST="last-message";var Z=K,Q=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={style:{div:W.a.fadeInWait}},n.props=e,n.content=e.children,n.bubble=r.a.createRef(),n.div=r.a.createRef(),n}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.thread==Z.THREAD_SINGLE||this.props.thread==Z.THREAD_FIRST;return r.a.createElement("div",{ref:this.div,className:P([this.state.style.div,W.a.messageParentDiv,W.a[this.props.info.align]])},r.a.createElement(U,{condition:e},r.a.createElement(k,{user:this.props.info.author,marginRight:"0rem",marginLeft:"0rem"})),r.a.createElement("div",{className:W.a.messageChildDiv},r.a.createElement(U,{condition:e},r.a.createElement(z,{user:this.props.info.author,align:this.props.info.align})),r.a.createElement(J,{ref:this.bubble,align:this.props.info.align,thread:this.props.thread},this.content)))}},{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.div.current.style;e.setState({style:{div:W.a.fadeInDone}})}),100)}}]),a}(r.a.Component),X=a(128),$=a(125),ee=function(e){return r.a.createElement(w.a,{container:!0,className:W.a.textDiv,alignItems:"stretch"},r.a.createElement(w.a,{item:!0,className:W.a.chatBubbleIcon},r.a.createElement($.a,{color:"primary"})),r.a.createElement(w.a,{item:!0,className:W.a.textFieldParent},r.a.createElement(X.a,{label:"Type your message",className:W.a.textField,InputProps:{className:W.a.textFieldValue},InputLabelProps:{className:W.a.textFieldLabel},variant:"filled",onKeyDown:e.onEnter})))},te=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).scrollable=r.a.createRef(),n}return Object(h.a)(a,[{key:"printMessages",value:function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a],l=e[a-1]||null;console.log(n),console.log(l);var i=null!=l&&S.same([n.attributes.author,l.attributes.author])?Z.THREAD_MIDDLE:Z.THREAD_SINGLE;t.push(r.a.createElement(Q,{info:n.attributes,thread:i},n.content))}return t}},{key:"shallScroll",value:function(){var e=this.scrollable.current;return e&&e.scrollTop==e.scrollHeight-e.offsetHeight}},{key:"render",value:function(){return r.a.createElement("div",{ref:this.scrollable,className:W.a.messageBox},this.printMessages(this.props.messages))}},{key:"componentDidUpdate",value:function(){var e=this.scrollable.current;e&&this.shallScroll()&&(e.scrollTop=e.scrollHeight)}}]),a}(r.a.Component),ae=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){var n;Object(m.a)(this,a),(n=t.call(this,e)).handleEnter=function(e){13==e.keyCode&&e.target.value.trim().length>0&&(n.newMessage(new Z(e.target.value.trim()).align(Z.ALIGN_RIGHT).author(S.me())),n.mockAnswer(),e.target.value="")},n.newMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=n.state.messages.slice(0);a.push(e),n.setState({messages:a},t)};var r=[new Z("Hello there, how are you?").align(Z.ALIGN_LEFT).author(S.random())];return n.state={messages:r},n}return Object(h.a)(a,[{key:"mockAnswer",value:function(){var e=this,t=["Ok","Alright","Yeah...","That's cool!","That's amazing!","I'm listening"];setTimeout((function(){var a=t[Math.floor(Math.random()*t.length)];e.newMessage(new Z(a).align(Z.ALIGN_LEFT).author(S.random()))}),3e3*Math.random()+2e3)}},{key:"render",value:function(){return r.a.createElement(w.a,{item:!0,className:L.a.main},r.a.createElement("div",null,r.a.createElement(te,{messages:this.state.messages}),r.a.createElement(ee,{onEnter:this.handleEnter})))}}]),a}(r.a.Component),ne=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).toggleUserList=function(e){var t=n.state.layout.userList;n.setState({layout:{userList:!t}})},n.state={layout:{userList:!0}},n}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement(j.a,{boxShadow:1,style:{height:"100%",width:"100%",maxWidth:"100rem",maxHeight:"50rem",display:"flex",flexDirection:"column"}},r.a.createElement(I,{toggleUserList:this.toggleUserList,userListVisible:this.state.layout.userList}),r.a.createElement(w.a,{container:!0,style:{flexGrow:"1",overflow:"hidden"}},r.a.createElement(ae,null),r.a.createElement(V,{visible:this.state.layout.userList})))}}]),a}(r.a.Component),re=(a(85),Object(s.a)({palette:{type:"dark",primary:{main:o.a[800]},secondary:{main:u.a[400]}}})),le=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{theme:re},r.a.createElement("div",{style:{height:"100vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(ne,null))))};i.a.render(r.a.createElement(le,null),document.querySelector("#root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.d25d6600.chunk.js.map